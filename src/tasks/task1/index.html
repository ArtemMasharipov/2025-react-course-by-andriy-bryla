<!--
–ó–∞–¥–∞—á–∞ 1. –í–≤–æ–¥–∏—Ç—å—Å—è –∫—ñ–ª—å–∫—ñ—Å—Ç—å –ø–∞—Å–∞–∂–∏—Ä—ñ–≤. –í–∏–≤–µ—Å—Ç–∏:
—Å–∫—ñ–ª—å–∫–∏ –ø–æ—Ç—Ä—ñ–±–Ω–æ –∞–≤—Ç–æ–±—É—Å—ñ–≤ (–∫–æ–∂–µ–Ω –∞–≤—Ç–æ–±—É—Å –Ω–∞ 20 –º—ñ—Å—Ü—å)
—Å–∫—ñ–ª—å–∫–∏ –ø–ª—è—à–æ–∫ –≤–æ–¥–∏ (–∫–æ–∂–Ω–æ–º—É –ø–∞—Å–∞–∂–∏—Ä—É 2 –ø–ª—è—à–∫–∏)
—Å–∫—ñ–ª—å–∫–∏ –±—É—Ç–µ—Ä–±—Ä–æ–¥—ñ–≤ (–∫–æ–∂–Ω–æ–º—É –ø–∞—Å–∞–∂–∏—Ä—É 3 –±—É—Ç–µ—Ä–±—Ä–æ–¥–∏)
-->
<!DOCTYPE html>
<html lang="uk">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>–ó–∞–≤–¥–∞–Ω–Ω—è ‚Ññ 1 - –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –ø–æ—ó–∑–¥–∫–∏</title>
    <link rel="stylesheet" href="../../shared/css/common.css" />
  </head>
  <body>
    <div id="root"></div>

    <script
      crossorigin
      src="https://unpkg.com/react@18/umd/react.development.js"
    ></script>
    <script
      crossorigin
      src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"
    ></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <script type="text/babel" data-type="module">
      import { calculateTripResources } from './js/tripCalculator.js'
      import { validatePassengers } from './js/validation.js'

      function TripCalculator() {
        const [passengers, setPassengers] = React.useState('')
        const [results, setResults] = React.useState(null)
        const handleCalculate = e => {
          e.preventDefault()

          const { isValid, value } = validatePassengers(passengers)
          if (isValid) {
            setResults(calculateTripResources(value))
          }
        }

        const handleInputChange = e => {
          setPassengers(e.target.value)

          if (results) setResults(null)
        }

        return (
          <div className="container">
            <header className="task-page-header">
              <h1>–ó–∞–≤–¥–∞–Ω–Ω—è ‚Ññ 1</h1>
              <p>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –¥–ª—è –æ—Ä–≥–∞–Ω—ñ–∑–∞—Ü—ñ—ó –ø–æ—ó–∑–¥–∫–∏</p>
            </header>{' '}
            <div className="task-description-text">
              <h3>üìù –û–ø–∏—Å –∑–∞–≤–¥–∞–Ω–Ω—è:</h3>
              <p>
                <strong>–í–≤–æ–¥–∏—Ç—å—Å—è –∫—ñ–ª—å–∫—ñ—Å—Ç—å –ø–∞—Å–∞–∂–∏—Ä—ñ–≤. –í–∏–≤–µ—Å—Ç–∏:</strong>
              </p>
              <ul>
                <li>—Å–∫—ñ–ª—å–∫–∏ –ø–æ—Ç—Ä—ñ–±–Ω–æ –∞–≤—Ç–æ–±—É—Å—ñ–≤ (–∫–æ–∂–µ–Ω –∞–≤—Ç–æ–±—É—Å –Ω–∞ 20 –º—ñ—Å—Ü—å)</li>
                <li>—Å–∫—ñ–ª—å–∫–∏ –ø–ª—è—à–æ–∫ –≤–æ–¥–∏ (–∫–æ–∂–Ω–æ–º—É –ø–∞—Å–∞–∂–∏—Ä—É 2 –ø–ª—è—à–∫–∏)</li>
                <li>—Å–∫—ñ–ª—å–∫–∏ –±—É—Ç–µ—Ä–±—Ä–æ–¥—ñ–≤ (–∫–æ–∂–Ω–æ–º—É –ø–∞—Å–∞–∂–∏—Ä—É 3 –±—É—Ç–µ—Ä–±—Ä–æ–¥–∏)</li>
              </ul>
            </div>
            <div className="calculator-form">
              <form onSubmit={handleCalculate}>
                <div className="form-group">
                  <label htmlFor="passengers" className="form-label">
                    –ö—ñ–ª—å–∫—ñ—Å—Ç—å –ø–∞—Å–∞–∂–∏—Ä—ñ–≤:
                  </label>{' '}
                  <input
                    type="number"
                    id="passengers"
                    className="form-input"
                    value={passengers}
                    onChange={handleInputChange}
                    placeholder="–í–≤–µ–¥—ñ—Ç—å –∫—ñ–ª—å–∫—ñ—Å—Ç—å –ø–∞—Å–∞–∂–∏—Ä—ñ–≤..."
                    min="1"
                    step="1"
                    required
                  />
                </div>

                <button
                  type="submit"
                  className="calculate-btn"
                  disabled={!passengers}
                >
                  üßÆ –†–æ–∑—Ä–∞—Ö—É–≤–∞—Ç–∏
                </button>
              </form>

              {results && (
                <div className="results">
                  {' '}
                  <h3>üìä –†–µ–∑—É–ª—å—Ç–∞—Ç–∏:</h3>{' '}
                  <div className="result-item">
                    <span>üë• –ü–∞—Å–∞–∂–∏—Ä—ñ–≤:</span>
                    <span className="result-value">{results.passengers}</span>
                  </div>
                  <div className="result-item">
                    <span>üöå –ê–≤—Ç–æ–±—É—Å—ñ–≤:</span>
                    <span className="result-value">{results.buses}</span>
                  </div>
                  <div className="result-item">
                    <span>üíß –ü–ª—è—à–æ–∫ –≤–æ–¥–∏:</span>
                    <span className="result-value">{results.water}</span>
                  </div>
                  <div className="result-item">
                    <span>ü•™ –°–µ–Ω–¥–≤—ñ—á—ñ–≤:</span>
                    <span className="result-value">{results.sandwiches}</span>
                  </div>
                </div>
              )}
            </div>
            <nav className="navigation">
              <a href="../../index.html" className="nav-btn">
                ‚Üê –î–æ —Å–ø–∏—Å–∫—É –∑–∞–≤–¥–∞–Ω—å
              </a>
              <a href="../task2/index.html" className="nav-btn">
                –ù–∞—Å—Ç—É–ø–Ω–µ –∑–∞–≤–¥–∞–Ω–Ω—è ‚Üí
              </a>
            </nav>
          </div>
        )
      }
      const root = ReactDOM.createRoot(document.getElementById('root'))
      root.render(<TripCalculator />)
    </script>
  </body>
</html>
