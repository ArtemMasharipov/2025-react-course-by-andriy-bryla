<!--
–ó–∞–¥–∞—á–∞ 2. –í–≤–æ–¥–∏—Ç—å—Å—è –Ω–æ–º–µ—Ä –º—ñ—Å—è—Ü—è. –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏–≤–æ–¥–∏—Ç–∏ —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–∏–π –æ–¥—è–≥ (–∑–∏–º–∞ ‚Äì –ø–∞–ª—å—Ç–æ, –ª—ñ—Ç–æ ‚Äì —à–æ—Ä—Ç–∏ ‚Ä¶.). –¢–∞–∫–æ–∂ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏–≤–æ–¥–∏—Ç–∏ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è –∑ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–∏–º –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è–º –ª—ñ—Å—É (–∑–∏–º–∞ ‚Äì –ª—ñ—Å –∑—ñ —Å–Ω—ñ–≥–æ–º, –æ—Å—ñ–Ω—å ‚Äì –∂–æ–≤—Ç–∏–π –ª—ñ—Å, ‚Ä¶).
-->
<!DOCTYPE html>
<html lang="uk">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>–ó–∞–≤–¥–∞–Ω–Ω—è ‚Ññ 2 - –°–µ–∑–æ–Ω–Ω—ñ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó</title>
    <link rel="stylesheet" href="../../shared/css/common.css" />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div id="root"></div>

    <script
      crossorigin
      src="https://unpkg.com/react@18/umd/react.development.js"
    ></script>
    <script
      crossorigin
      src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"
    ></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script type="text/babel" data-type="module">
      import { getMonthRecommendations } from './js/seasonalLogic.js'

      /*
        –ó–ê–í–î–ê–ù–ù–Ø ‚Ññ 2: –°–µ–∑–æ–Ω–Ω—ñ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó –æ–¥—è–≥—É —Ç–∞ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è –ª—ñ—Å—É

        –§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª:
        - –í–≤–µ–¥–µ–Ω–Ω—è –Ω–æ–º–µ—Ä–∞ –º—ñ—Å—è—Ü—è (1-12)
        - –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è —Å–µ–∑–æ–Ω—É
        - –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó –æ–¥—è–≥—É –∑–∞ —Å–µ–∑–æ–Ω–æ–º
        - –í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è –ª—ñ—Å—É –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ –¥–æ —Å–µ–∑–æ–Ω—É      */ function SeasonalRecommendations() {
        const [month, setMonth] = React.useState('')
        const [recommendations, setRecommendations] = React.useState(null)
        const [error, setError] = React.useState('')

        const handleSubmit = e => {
          e.preventDefault()
          setRecommendations(null)
          setError('')

          const result = getMonthRecommendations(month)

          if (result.error) {
            setError(result.error)
          } else {
            setRecommendations(result)
          }
        }

        return (
          <div className="container">
            <header className="task-page-header">
              <h1>–ó–∞–≤–¥–∞–Ω–Ω—è ‚Ññ 2</h1>
              <p>–°–µ–∑–æ–Ω–Ω—ñ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó –æ–¥—è–≥—É —Ç–∞ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è –ª—ñ—Å—É</p>
            </header>{' '}
            <div className="task-description-text">
              <h3>üìù –û–ø–∏—Å –∑–∞–≤–¥–∞–Ω–Ω—è:</h3>
              <p>
                <strong>
                  –í–≤–æ–¥–∏—Ç—å—Å—è –Ω–æ–º–µ—Ä –º—ñ—Å—è—Ü—è. –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏–≤–æ–¥–∏—Ç–∏ —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–∏–π
                  –æ–¥—è–≥ (–∑–∏–º–∞ ‚Äì –ø–∞–ª—å—Ç–æ, –ª—ñ—Ç–æ ‚Äì —à–æ—Ä—Ç–∏ ‚Ä¶.). –¢–∞–∫–æ–∂ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ
                  –≤–∏–≤–æ–¥–∏—Ç–∏ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è –∑ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–∏–º –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è–º –ª—ñ—Å—É (–∑–∏–º–∞ ‚Äì –ª—ñ—Å
                  –∑—ñ —Å–Ω—ñ–≥–æ–º, –æ—Å—ñ–Ω—å ‚Äì –∂–æ–≤—Ç–∏–π –ª—ñ—Å, ‚Ä¶).
                </strong>
              </p>
            </div>
            <form className="calculator-form" onSubmit={handleSubmit}>
              <div className="form-group">
                <label htmlFor="month" className="form-label">
                  üóìÔ∏è –í–≤–µ–¥—ñ—Ç—å –Ω–æ–º–µ—Ä –º—ñ—Å—è—Ü—è (1-12):
                </label>
                <input
                  type="number"
                  id="month"
                  min="1"
                  max="12"
                  value={month}
                  onChange={e => setMonth(e.target.value)}
                  className="form-input"
                  placeholder="–ù–∞–ø—Ä–∏–∫–ª–∞–¥: 3 (–±–µ—Ä–µ–∑–µ–Ω—å)"
                />
              </div>{' '}
              <button type="submit" className="calculate-btn" disabled={!month}>
                üîç –û—Ç—Ä–∏–º–∞—Ç–∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó
              </button>
            </form>
            {error && <div className="error-message">‚ùå {error}</div>}
            {recommendations && (
              <div className="results-section">
                <h3 className="results-title">
                  üìÖ –†–µ–∑—É–ª—å—Ç–∞—Ç–∏ –¥–ª—è –º—ñ—Å—è—Ü—è: {recommendations.monthName}
                </h3>

                <div className="recommendations-grid">
                  <div className="recommendation-card">
                    <h4 className="recommendation-title">
                      üëï –†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–∏–π –æ–¥—è–≥
                    </h4>
                    <div className="clothing-display">
                      <img
                        src={recommendations.clothing.image}
                        alt={recommendations.clothing.text}
                        className="clothing-image"
                        onError={e => {
                          e.target.style.display = 'none'
                          e.target.nextSibling.style.display = 'block'
                        }}
                      />
                      <div
                        className="clothing-fallback"
                        style={{ display: 'none' }}
                      >
                        <span className="clothing-icon">
                          {recommendations.clothing.icon}
                        </span>
                      </div>
                      <div className="clothing-info">
                        <span className="clothing-text">
                          {recommendations.clothing.text}
                        </span>
                        <p className="clothing-description">
                          {recommendations.clothing.description}
                        </p>
                      </div>
                    </div>
                  </div>

                  <div className="recommendation-card">
                    <h4 className="recommendation-title">üå≤ –ó–æ–±—Ä–∞–∂–µ–Ω–Ω—è –ª—ñ—Å—É</h4>
                    <div className="forest-display">
                      <img
                        src={recommendations.forest.image}
                        alt={recommendations.forest.description}
                        className="forest-image"
                      />
                      <div className="forest-info">
                        <p className="forest-description">
                          {recommendations.forest.description}
                        </p>
                      </div>
                    </div>
                  </div>
                </div>

                <div className="season-info">
                  <h4 className="season-title">
                    üåç –°–µ–∑–æ–Ω: {recommendations.season}
                  </h4>
                </div>
              </div>
            )}{' '}
            <nav className="navigation">
              <a href="../task1/index.html" className="nav-btn">
                ‚Üê –ü–æ–ø–µ—Ä–µ–¥–Ω—î –∑–∞–≤–¥–∞–Ω–Ω—è
              </a>
              <a href="../../index.html" className="nav-btn">
                üè† –ì–æ–ª–æ–≤–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞
              </a>
              <a href="../task3/index.html" className="nav-btn">
                –ù–∞—Å—Ç—É–ø–Ω–µ –∑–∞–≤–¥–∞–Ω–Ω—è ‚Üí
              </a>
            </nav>
          </div>
        )
      }
      const root = ReactDOM.createRoot(document.getElementById('root'))
      root.render(<SeasonalRecommendations />)
    </script>
  </body>
</html>
