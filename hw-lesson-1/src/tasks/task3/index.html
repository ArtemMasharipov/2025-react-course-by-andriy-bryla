<!--
–ó–∞–¥–∞—á–∞ 3. –ó–∞–¥–∞–Ω–æ –ø–æ—á–∞—Ç–æ–∫ —Ç–∞ –∫—ñ–Ω–µ—Ü—å –¥—ñ–∞–ø–∞–∑–æ–Ω—É. –ü—Ä–∏ –Ω–∞—Ç–∏—Å–∫–∞–Ω–Ω—ñ –Ω–∞ –∫–Ω–æ–ø–∫—É –≤–∏–ø–∞–¥–∫–æ–≤–∏–º —á–∏–Ω–æ–º –≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ –∑–Ω–∞—á–µ–Ω–Ω—è –∑ –≤–∫–∞–∑–∞–Ω–æ–≥–æ –¥—ñ–∞–ø–∞–∑–æ–Ω—É —Ç–∞ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—Ç–∏ –π–æ–≥–æ.
-->
<!DOCTYPE html>
<html lang="uk">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>–ó–∞–≤–¥–∞–Ω–Ω—è ‚Ññ 3 - –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –≤–∏–ø–∞–¥–∫–æ–≤–∏—Ö —á–∏—Å–µ–ª</title>
    <link rel="stylesheet" href="../../shared/css/common.css" />
  </head>
  <body>
    <div id="root"></div>

    <script
      crossorigin
      src="https://unpkg.com/react@18/umd/react.development.js"
    ></script>
    <script
      crossorigin
      src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"
    ></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <script type="text/babel" data-type="module">
      import { createRandomGeneratorResult } from './js/randomGenerator.js'
      import { validateRange } from './js/validation.js'

      function RandomNumberGenerator() {
        const [minValue, setMinValue] = React.useState('')
        const [maxValue, setMaxValue] = React.useState('')
        const [result, setResult] = React.useState(null)
        const [error, setError] = React.useState('')

        const handleGenerate = e => {
          e.preventDefault()
          setError('')
          setResult(null)

          const validation = validateRange(minValue, maxValue)

          if (validation.error) {
            setError(validation.error)
            return
          }
          const randomResult = createRandomGeneratorResult(
            validation.minValue,
            validation.maxValue
          )
          setResult(randomResult)
        }

        const handleInputChange = setter => e => {
          setter(e.target.value)
          if (error) setError('')
        }

        return (
          <div className="container">
            <header className="task-page-header">
              <h1>–ó–∞–≤–¥–∞–Ω–Ω—è ‚Ññ 3</h1>
              <p>–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –≤–∏–ø–∞–¥–∫–æ–≤–∏—Ö —á–∏—Å–µ–ª –∑ –¥—ñ–∞–ø–∞–∑–æ–Ω—É</p>
            </header>{' '}
            <div className="task-description-text">
              <h3>üìù –û–ø–∏—Å –∑–∞–≤–¥–∞–Ω–Ω—è:</h3>
              <p>
                <strong>
                  –ó–∞–¥–∞–Ω–æ –ø–æ—á–∞—Ç–æ–∫ —Ç–∞ –∫—ñ–Ω–µ—Ü—å –¥—ñ–∞–ø–∞–∑–æ–Ω—É. –ü—Ä–∏ –Ω–∞—Ç–∏—Å–∫–∞–Ω–Ω—ñ –Ω–∞ –∫–Ω–æ–ø–∫—É
                  –≤–∏–ø–∞–¥–∫–æ–≤–∏–º —á–∏–Ω–æ–º –≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ –∑–Ω–∞—á–µ–Ω–Ω—è –∑ –≤–∫–∞–∑–∞–Ω–æ–≥–æ –¥—ñ–∞–ø–∞–∑–æ–Ω—É —Ç–∞
                  –≤—ñ–¥–æ–±—Ä–∞–∂–∞—Ç–∏ –π–æ–≥–æ.
                </strong>
              </p>
            </div>
            <div className="calculator-form">
              <form onSubmit={handleGenerate}>
                <div className="form-group">
                  <label htmlFor="minValue" className="form-label">
                    üî¢ –ú—ñ–Ω—ñ–º–∞–ª—å–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è:
                  </label>{' '}
                  <input
                    type="number"
                    id="minValue"
                    className="form-input"
                    value={minValue}
                    onChange={handleInputChange(setMinValue)}
                    placeholder="–í–≤–µ–¥—ñ—Ç—å –º—ñ–Ω—ñ–º–∞–ª—å–Ω–µ —á–∏—Å–ª–æ..."
                  />
                </div>

                <div className="form-group">
                  <label htmlFor="maxValue" className="form-label">
                    üî¢ –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è:
                  </label>{' '}
                  <input
                    type="number"
                    id="maxValue"
                    className="form-input"
                    value={maxValue}
                    onChange={handleInputChange(setMaxValue)}
                    placeholder="–í–≤–µ–¥—ñ—Ç—å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–µ —á–∏—Å–ª–æ..."
                  />
                </div>

                <button
                  type="submit"
                  className="calculate-btn"
                  disabled={!minValue || !maxValue}
                >
                  üé≤ –ó–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ —á–∏—Å–ª–æ
                </button>
              </form>{' '}
              {error && (
                <div className="error-message">
                  <p>‚ùå {error}</p>
                </div>
              )}{' '}
              {result && (
                <div className="results">
                  <h3>üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó:</h3>
                  <div className="result-item">
                    <span className="result-label">–ó–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω–µ —á–∏—Å–ª–æ:</span>
                    <span className="result-value big-number">
                      {result.number}
                    </span>
                  </div>
                  <div className="result-item">
                    <span className="result-label">–î—ñ–∞–ø–∞–∑–æ–Ω:</span>
                    <span className="result-value">{result.range}</span>
                  </div>
                </div>
              )}
            </div>
            <nav className="navigation">
              <a href="../task2/index.html" className="nav-btn">
                ‚Üê –ü–æ–ø–µ—Ä–µ–¥–Ω—î –∑–∞–≤–¥–∞–Ω–Ω—è
              </a>
              <a href="../../index.html" className="nav-btn">
                üè† –ì–æ–ª–æ–≤–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞
              </a>
              <a href="../task4/index.html" className="nav-btn">
                –ù–∞—Å—Ç—É–ø–Ω–µ –∑–∞–≤–¥–∞–Ω–Ω—è ‚Üí
              </a>
            </nav>
          </div>
        )
      }
      const root = ReactDOM.createRoot(document.getElementById('root'))
      root.render(<RandomNumberGenerator />)
    </script>
  </body>
</html>
